(this.webpackJsonptask_manager=this.webpackJsonptask_manager||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(6),i=a.n(s),c=(a(16),a(1)),l=a(2);a(17),a(18);var o=function(e){var t=e.data,a=e.setData,n=e.id,s=e.name;return r.a.createElement("div",{className:"close-btn",onClick:function(){if(window.confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c?")){var e=t.findIndex((function(e){return e.id===n})),r=Object(l.a)(t);r.splice(e,1),a(r),localStorage.setItem(s,JSON.stringify(r))}}})};a(19);var d=function(e){var t=e.data,a=e.setData,s=Object(n.useState)(""),i=Object(c.a)(s,2),o=i[0],d=i[1],u=Object(n.useState)(""),m=Object(c.a)(u,2),p=m[0],b=m[1],f=Object(n.useState)(""),v=Object(c.a)(f,2),g=v[0],_=v[1],j=Object(n.useState)("\u0421\u0435\u0432\u0435\u0440"),E=Object(c.a)(j,2),O=E[0],k=E[1],h=Object(n.useState)(!1),N=Object(c.a)(h,2),S=N[0],y=N[1],C=Object(n.useState)("\u0418\u0441\u0430\u043a\u043e\u0432"),I=Object(c.a)(C,2),w=I[0],G=I[1];return r.a.createElement("div",null,r.a.createElement("form",{action:"/",onSubmit:function(e){e.preventDefault();var n={id:t.reduce((function(e,t){return e.id>t.id?e.id:t.id}))+1,first:o,last:p,adress:g,region:O,isFree:!0,group:w,isGeodesist:S},r=Object(l.a)(t);r.push(n),a(r),localStorage.setItem("personal",JSON.stringify(r))},className:"add-user-form"},r.a.createElement("input",{className:"add-user-form__input",onChange:function(e){b(e.target.value)},value:p,placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),r.a.createElement("input",{className:"add-user-form__input",onChange:function(e){d(e.target.value)},value:o,placeholder:"\u0418\u043c\u044f"}),r.a.createElement("input",{className:"add-user-form__input",onChange:function(e){_(e.target.value)},value:g,placeholder:"\u0410\u0434\u0440\u0435\u0441"}),r.a.createElement("div",{className:"add-user-form__radio",onChange:function(e){k(e.target.value)}},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"region",value:"N",id:"region2",defaultChecked:!0}),r.a.createElement("label",{htmlFor:"region2"},"\u0421\u0435\u0432\u0435\u0440")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"region",value:"S",id:"region1"}),r.a.createElement("label",{htmlFor:"region1"},"\u042e\u0433"))),r.a.createElement("div",{className:"add-user-form__radio",onChange:function(e){G(e.target.value)}},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"group",value:"\u041c",id:"group1",defaultChecked:!0}),r.a.createElement("label",{htmlFor:"group1"},"\u0418\u0441\u0430\u043a\u043e\u0432")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"group",value:"\u041a",id:"group2"}),r.a.createElement("label",{htmlFor:"group2"},"\u0418\u0433\u043d\u0430\u0442\u044c\u0435\u0432"))),r.a.createElement("div",{className:"add-user-form__checkbox"},r.a.createElement("input",{type:"checkbox",id:"isGeodesist",checked:S,onChange:function(e){y(!S)}}),r.a.createElement("label",{htmlFor:"isGeodesist"},"\u0413\u0435\u043e\u0434\u0435\u0437\u0438\u0441\u0442")),r.a.createElement("button",{className:"add-user-form__submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))};a(20);function u(e,t,a,n,r){r(Object(l.a)(n).sort((function(t,n){return t[a]>n[a]?1*e:-1*e}))),t(-e)}var m=function(e){var t=e.activeObjectId,a=(e.setUserId,e.setPersonal),s=e.personal,i=e.dispatch,l=Object(n.useState)(1),m=Object(c.a)(l,2),p=m[0],b=m[1],f=Object(n.useState)(1),v=Object(c.a)(f,2),g=v[0],_=v[1],j=Object(n.useState)(1),E=Object(c.a)(j,2),O=E[0],k=E[1],h=Object(n.useState)(1),N=Object(c.a)(h,2),S=N[0],y=N[1],C=Object(n.useState)(!0),I=Object(c.a)(C,2),w=I[0],G=I[1],D=function(e,n){if(!(t<1)){var r=s.map((function(t){return t.id===e&&(t.isFree=!1),t}));i({type:"addEmployee",userId:e,objId:t}),a(r)}},F=s.map((function(e,t){return e.isFree&&r.a.createElement("div",{className:"personal__employee block__element "+("\u041c"===e.group?"personal__employee_group1 ":"personal__employee_group2 ")+(e.isGeodesist?"personal__employee_geodesist":"personal__employee_assistant"),onClick:D.bind(null,e.id),key:e.id},r.a.createElement("div",{className:"personal__name block__sub-element"},e.last,"  ",e.first.slice(0,1)),r.a.createElement("div",{className:"personal__group block__sub-element"},e.group),r.a.createElement("div",{className:"personal__region block__sub-element"},e.region),r.a.createElement("div",{className:"personal__adress block__sub-element"},e.adress),r.a.createElement("div",null,r.a.createElement(o,{data:s,setData:a,id:e.id,name:"personal"})))}));return r.a.createElement("div",{className:"personal block",style:{textAlign:"left"}},r.a.createElement("div",{className:"personal-header personal__employee block__element"},r.a.createElement("div",{className:"personal__name block__sub-element",onClick:function(){u(p,b,"last",s,a)}},"\u0418\u043c\u044f"),r.a.createElement("div",{className:"personal__group block__sub-element",onClick:function(){u(g,_,"group",s,a)}},"\u0413"),r.a.createElement("div",{className:"personal__region block__sub-element",onClick:function(){u(O,k,"region",s,a)}},"\u0420"),r.a.createElement("div",{className:"personal__adress block__sub-element",onClick:function(){u(S,y,"adress",s,a)}},"\u0410\u0434\u0440\u0435\u0441")),F,r.a.createElement("button",{onClick:function(){G(!w)}},w?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430":"\u0421\u043a\u0440\u044b\u0442\u044c \u0444\u043e\u0440\u043c\u0443"),w||r.a.createElement(d,{data:s,setData:a}))};var p=function(e){var t=e.setObjects,a=e.id;return r.a.createElement("div",{className:"close-btn",onClick:function(){window.confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c?")&&t({type:"deleteObject",objId:a})}})};var b=function(e){var t=e.onDataNameTextChange,a=e.handleAddBtnClick,n=e.value;return r.a.createElement("div",null,r.a.createElement("form",{action:"/",onSubmit:a},r.a.createElement("input",{onChange:t,value:n,type:"text"}),r.a.createElement("button",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))};var f=function(e){var t=e.data,a=e.setData,s=Object(n.useState)(""),i=Object(c.a)(s,2),l=i[0],o=i[1];return r.a.createElement(b,{handleAddBtnClick:function(e){e.preventDefault();var n=t.reduce((function(e,t){return e.id>t.id?e.id:t.id})),r={name:l,id:n+1,personal:new Set,cars:new Set};a({type:"addObject",newObject:r})},onDataNameTextChange:function(e){o(e.target.value)},value:l})};a(21);var v=function(e){var t=e.setActiveObjectId,a=e.activeObjectId,n=e.objects,s=e.setObjects,i=function(e){t(e)},c=n.map((function(e){var t="objects__object block-element";return e.cars.size>0&&e.personal.size>1?t+=" objects__object_complete":(e.cars.size>0||e.personal.size>0)&&(t+=" objects__object_incomplete"),a===e.id&&(t+=" objects__object_active"),r.a.createElement("div",{className:t+" block__element",key:e.id,onClick:i.bind(null,e.id)},r.a.createElement("div",{className:"block__element-name block__sub-element"},e.name),r.a.createElement(p,{id:e.id,setObjects:s}))}));return r.a.createElement("div",{className:"objects block"},c,r.a.createElement(f,{data:n,setData:s}))},g=a(7),_=[{id:1,name:"\u0412\u0438\u0442\u0438\u043d\u043e"},{id:2,name:"\u041c\u043e\u0441\u043a\u0432\u0430-\u0420\u0438\u0433\u0430"},{id:3,name:"\u0417\u0430\u043f\u043e\u0440\u043e\u0436\u0441\u043a\u043e\u0435-\u041f\u0440\u0438\u043e\u0437\u0435\u0440\u0441\u043a"},{id:4,name:"\u0413\u0430\u0440\u044c\u043a\u0430\u0432\u043e\u0433\u043e"}],j=localStorage.getItem("objects");if(j){_=JSON.parse(j);var E,O=Object(g.a)(_);try{for(O.s();!(E=O.n()).done;){var k=E.value;k.cars=new Set,k.personal=new Set}}catch(T){O.e(T)}finally{O.f()}}var h=[{id:1,name:"\u041b\u0430\u0440\u0433\u0443\u04411"},{id:2,name:"\u041b\u0430\u0440\u0433\u0443\u04412"},{id:3,name:"\u041b\u0430\u0440\u0433\u0443\u04413"},{id:4,name:"\u0424\u043e\u0440\u0434"},{id:5,name:"\u0413\u0430\u0437\u0435\u043b\u044c"}],N=localStorage.getItem("cars");N&&(h=JSON.parse(N));var S=["N","S","\u041d","\u0422"],y=["\u041c","\u041a"],C=[{id:1,first:"\u0421\u0435\u0440\u0433\u0435\u0439",last:"\u041d\u0438\u043a\u0438\u0442\u0438\u043d",isGeodesist:!0,group:y[1],adress:"\u041a\u0443\u043f\u0447\u0438\u043d\u043e",region:S[1]},{id:2,first:"\u0414\u0435\u043d\u0438\u0441",last:"\u041f\u0430\u0432\u043b\u043e\u0432",isGeodesist:!0,group:y[1],adress:"\u0410\u043a\u0430\u0434\u0435\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439",region:S[0]},{id:3,first:"\u0412\u0438\u0442\u0430\u043b\u0438\u0439",last:"\u0428\u043f\u0430\u043a",isGeodesist:!0,group:y[1],adress:"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u0438\u0439",region:S[0]},{id:4,first:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440",last:"\u041a\u043b\u0435\u0448\u043d\u0438\u043d",isGeodesist:!0,group:y[1],adress:"\u0421\u0435\u0440\u0442\u043b\u043e\u0432\u043e",region:S[0]},{id:5,first:"\u041f\u0430\u0432\u0435\u043b",last:"\u041d\u0435\u0445\u043e\u0436\u0438\u043d",isGeodesist:!0,group:y[1],adress:"\u0410\u043a\u0430\u0434\u0435\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439",region:S[0]},{id:6,first:"\u041a\u0430\u0440\u043d\u0438\u0446\u043a\u0438\u0439",last:"\u0412\u044f\u0447\u0435\u0441\u043b\u0430\u0432",isGeodesist:!1,group:y[1],adress:"\u0421\u0435\u0440\u0442\u043b\u043e\u0432\u043e",region:S[0]},{id:7,first:"\u041d\u0438\u043a\u0438\u0442\u0430",last:"\u0418\u0441\u0430\u043a\u043e\u0432",isGeodesist:!1,group:y[1],adress:"\u041c\u0443\u0440\u0438\u043d\u043e",region:S[0]},{id:8,first:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440",last:"\u0412\u0430\u0441\u044e\u043d\u0438\u043d",isGeodesist:!1,group:y[1],adress:"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u0438\u0439",region:S[0]},{id:9,first:"\u0412\u0430\u0434\u0438\u043c",last:"\u042d\u0440\u043c\u0435\u043b\u044c",isGeodesist:!1,group:y[1],adress:"\u041c\u0443\u0440\u0438\u043d\u043e",region:S[0]},{id:10,first:"\u0420\u043e\u0434\u0438\u043e\u043d",last:"\u041f\u043b\u043e\u0449\u0430\u0434\u043d\u044b\u0439",isGeodesist:!1,group:y[1],adress:"\u041c\u0443\u0440\u0438\u043d\u043e",region:S[0]},{id:11,first:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440",last:"\u041b\u0435\u0443\u0441\u0435\u043d\u043a\u043e",isGeodesist:!0,group:y[0],adress:"\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0430\u044f",region:S[1]},{id:12,first:"\u041e\u043b\u0435\u0433",last:"\u0415\u0432\u0441\u0442\u0430\u0444\u044c\u0435\u0432",isGeodesist:!0,group:y[0],adress:"\u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434",region:S[2]},{id:13,first:"\u041d\u0438\u043a\u0438\u0442\u0430",last:"\u0411\u0430\u0440\u0430\u043d\u043e\u0432",isGeodesist:!0,group:y[0],adress:"\u0422\u0432\u0435\u0440\u044c",region:S[3]},{id:14,first:"\u0410\u043d\u0434\u0440\u0435\u0439",last:"\u041f\u043e\u0433\u043e\u0434\u0438\u043d",isGeodesist:!0,group:y[0],adress:"\u0422\u0432\u0435\u0440\u044c",region:S[3]},{id:15,first:"\u0421\u0435\u0440\u0433\u0435\u0439",last:"\u041f\u043e\u043b\u044f\u043a\u043e\u0432",isGeodesist:!1,group:y[0],adress:"\u0410\u0432\u0442\u043e\u0432\u043e",region:S[1]},{id:16,first:"\u0414\u043c\u0438\u0442\u0440\u0438\u0439",last:"\u0411\u0435\u0437\u044b\u043c\u044f\u043d\u043d\u044b\u0439",isGeodesist:!1,group:y[0],adress:"\u041a\u043e\u043c\u0435\u043d\u0434\u0430\u043d\u0442\u0441\u043a\u0438\u0439",region:S[0]},{id:17,first:"\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432",last:"\u0413\u043e\u0440\u043c\u044b\u043b\u0435\u0432",isGeodesist:!1,group:y[0],adress:"\u041a\u0443\u043f\u0447\u0438\u043d\u043e",region:S[1]},{id:18,first:"\u041c\u0438\u0445\u0430\u0438\u043b",last:"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432",isGeodesist:!1,group:y[0],adress:"\u041a\u0443\u043f\u0447\u0438\u043d\u043e",region:S[1]},{id:19,first:"\u041c\u0438\u0445\u0430\u0438\u043b",last:"\u041f\u0430\u0433\u0438\u043d",isGeodesist:!1,group:y[0],adress:"\u041b\u0435\u043d\u0438\u043d\u0441\u043a\u0438\u0439",region:S[1]},{id:20,first:"\u0410\u043b\u0435\u043a\u0441\u0435\u0439",last:"\u0410\u0440\u0431\u0443\u0437\u043e\u0432",isGeodesist:!1,group:y[0],adress:"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u0438\u0439",region:S[0]}],I=localStorage.getItem("personal");I&&(C=JSON.parse(I));var w=a(9);var G=function(e){var t=e.data,a=e.setData,s=e.value,i=Object(n.useState)(""),o=Object(c.a)(i,2),d=o[0],u=o[1];return r.a.createElement(b,{handleAddBtnClick:function(e){e.preventDefault();var n={id:t.reduce((function(e,t){return e.id>t.id?e.id:t.id}))+1,name:d,isFree:!0},r=Object(l.a)(t);r.push(n),a(r),localStorage.setItem("cars",JSON.stringify(r))},onDataNameTextChange:function(e){u(e.target.value)},value:s})};var D=function(e){var t=e.activeObjectId,a=e.cars,n=e.setCars,s=e.dispatch,i=(Object(w.a)(e,["activeObjectId","cars","setCars","dispatch"]),function(e){if(!(t<1)){var r=a.map((function(t){return t.id===e&&(t.isFree=!1),t}));n(r),s({type:"addCar",carId:e,objId:t})}}),c=a.map((function(e){return e.isFree&&r.a.createElement("div",{className:"cars__car block__element",key:e.id,onClick:i.bind(null,e.id)},r.a.createElement("div",{className:"cars__car-name block__element-name block__sub-element"},e.name),r.a.createElement(o,{data:a,setData:n,id:e.id,name:"cars"}))}));return r.a.createElement("div",{className:"cars block"},c,r.a.createElement(G,{data:a,setData:n}))},F=a(24),x=a(25);var A=function(e){var t=e.object,a=e.cars,n=e.handleNameClick,s=e.handleCarClick,i=e.personal,c=Object(l.a)(t.cars).map((function(e){return a.find((function(t){return t.id===e}))})),o=Object(l.a)(t.personal).map((function(e){return i.find((function(t){return t.id===e}))}));return r.a.createElement("div",{className:"result__object",key:t.id},r.a.createElement("div",{className:"result__object-name"},t.name),r.a.createElement("div",{className:"result__object-cars"},c.map((function(e){return r.a.createElement("div",{className:"result__car",key:e.id,onClick:s.bind(null,t.id,e.id)},e.name," /")}))),r.a.createElement("div",{className:"result__object-personal"},o.map((function(e){return r.a.createElement("div",{className:"result__employee",key:e.id,onClick:n.bind(null,t.id,e.id)},e.last," ",e.first.slice(0,1))}))))};a(22);var J=function(e){var t=e.objects,a=e.cars,n=e.setCars,s=e.personal,i=e.setPersonal,c=e.dispatch,o=function(e,t){var a=s.map((function(e){return e.id===t&&(e.isFree=!0),e}));i(a),c({type:"deleteEmployee",userId:t,objId:e})},d=function(e,t){c({type:"deleteCar",carId:t,objId:e});var r=a.map((function(e){return e.id===t&&(e.isFree=!0),e}));n(r)},u=new Date(Date.now()+864e5).toLocaleDateString(),m=["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"][new Date(Date.now()+864e5).getDay()],p=t.filter((function(e){return e.cars.size||e.personal.size})).map((function(e){var t=Object(l.a)(e.cars).map((function(e){return a.find((function(t){return t.id===e})).name})),n=Object(l.a)(e.personal).map((function(e){var t=s.find((function(t){return t.id===e}));return t.last+" "+t.first.slice(0,1)}));return"*".concat(e.name,"*\r\n")+(t.length>0?"_/".concat(t.join(" / "),"/_\r\n"):"")+"".concat(n.join("\r\n"))}));p="*".concat(u," (").concat(m,")*\r\n\r\n")+p.join("\r\n\r\n");var b=t.filter((function(e){return e.cars.size||e.personal.size})).map((function(e){return r.a.createElement(A,{object:e,handleCarClick:d,handleNameClick:o,cars:a,personal:s,key:e.id})}));return r.a.createElement("div",{className:"result"},r.a.createElement("div",{className:"result__date"},u," (",m,")"),b,r.a.createElement(F.a,{url:p},r.a.createElement(x.a,null)))};h.forEach((function(e,t){h[t].isFree=!0})),C.forEach((function(e,t){C[t].isFree=!0}));var z=_.map((function(e){var t={};return t.name=e.name,t.id=e.id,t.isActual=e.isActual,t.personal=new Set,t.cars=new Set,t}));function B(e,t){var a=e.findIndex((function(e){return e.id===t.objId})),n=Object(l.a)(e);switch(t.type){case"addCar":return t.carId>0&&n[a].cars.add(t.carId),n;case"addEmployee":return t.userId>0&&n[a].personal.add(t.userId),n;case"deleteCar":return n[a].cars.delete(t.carId),n;case"deleteEmployee":return n[a].personal.delete(t.userId),n;case"addObject":return(n=Object(l.a)(e)).push(t.newObject),localStorage.setItem("objects",JSON.stringify(n)),n;case"deleteObject":return(n=Object(l.a)(e)).splice(a,1),localStorage.setItem("objects",JSON.stringify(n)),n;default:return e}}var P=function(){var e=Object(n.useState)(h),t=Object(c.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(C),l=Object(c.a)(i,2),o=l[0],d=l[1],u=Object(n.useReducer)(B,z),p=Object(c.a)(u,2),b=p[0],f=p[1],g=Object(n.useState)(0),_=Object(c.a)(g,2),j=_[0],E=_[1];return r.a.createElement("div",{className:"App",style:{textAlign:"left"}},r.a.createElement("div",{className:"panel"},r.a.createElement(v,{setActiveObjectId:E,activeObjectId:j,objects:b,setObjects:f}),r.a.createElement(m,{personal:o,setPersonal:d,activeObjectId:j,dispatch:f}),r.a.createElement(D,{cars:a,setCars:s,dispatch:f,activeObjectId:j})),r.a.createElement("div",{className:"result-block"},r.a.createElement(J,{objects:b,cars:a,setCars:s,personal:o,setPersonal:d,dispatch:f})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[11,1,2]]]);
//# sourceMappingURL=main.9d361cd9.chunk.js.map